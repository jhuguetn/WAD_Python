<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pyWADLib package &mdash; ..  documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="..  documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">..  documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="pywadlib-package">
<h1>pyWADLib package<a class="headerlink" href="#pywadlib-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pyWADLib.dumppdf">
<span id="pywadlib-dumppdf-module"></span><h2>pyWADLib.dumppdf module<a class="headerlink" href="#module-pyWADLib.dumppdf" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pyWADLib.dumppdf.dumpallobjs">
<tt class="descclassname">pyWADLib.dumppdf.</tt><tt class="descname">dumpallobjs</tt><big>(</big><em>out</em>, <em>doc</em>, <em>codec=None</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/dumppdf.html#dumpallobjs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.dumppdf.dumpallobjs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyWADLib.dumppdf.dumpoutline">
<tt class="descclassname">pyWADLib.dumppdf.</tt><tt class="descname">dumpoutline</tt><big>(</big><em>outfp</em>, <em>fname</em>, <em>objids</em>, <em>pagenos</em>, <em>password=''</em>, <em>dumpall=False</em>, <em>codec=None</em>, <em>extractdir=None</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/dumppdf.html#dumpoutline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.dumppdf.dumpoutline" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyWADLib.dumppdf.dumppdf">
<tt class="descclassname">pyWADLib.dumppdf.</tt><tt class="descname">dumppdf</tt><big>(</big><em>outfp</em>, <em>fname</em>, <em>objids</em>, <em>pagenos</em>, <em>password=''</em>, <em>dumpall=False</em>, <em>codec=None</em>, <em>extractdir=None</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/dumppdf.html#dumppdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.dumppdf.dumppdf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyWADLib.dumppdf.dumptrailers">
<tt class="descclassname">pyWADLib.dumppdf.</tt><tt class="descname">dumptrailers</tt><big>(</big><em>out</em>, <em>doc</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/dumppdf.html#dumptrailers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.dumppdf.dumptrailers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyWADLib.dumppdf.dumpxml">
<tt class="descclassname">pyWADLib.dumppdf.</tt><tt class="descname">dumpxml</tt><big>(</big><em>out</em>, <em>obj</em>, <em>codec=None</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/dumppdf.html#dumpxml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.dumppdf.dumpxml" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyWADLib.dumppdf.e">
<tt class="descclassname">pyWADLib.dumppdf.</tt><tt class="descname">e</tt><big>(</big><em>s</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/dumppdf.html#e"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.dumppdf.e" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyWADLib.dumppdf.extractembedded">
<tt class="descclassname">pyWADLib.dumppdf.</tt><tt class="descname">extractembedded</tt><big>(</big><em>outfp</em>, <em>fname</em>, <em>objids</em>, <em>pagenos</em>, <em>password=''</em>, <em>dumpall=False</em>, <em>codec=None</em>, <em>extractdir=None</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/dumppdf.html#extractembedded"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.dumppdf.extractembedded" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyWADLib.dumppdf.main">
<tt class="descclassname">pyWADLib.dumppdf.</tt><tt class="descname">main</tt><big>(</big><em>argv</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/dumppdf.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.dumppdf.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-pyWADLib.findmax">
<span id="pywadlib-findmax-module"></span><h2>pyWADLib.findmax module<a class="headerlink" href="#module-pyWADLib.findmax" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pyWADLib.findmax.find_max">
<tt class="descclassname">pyWADLib.findmax.</tt><tt class="descname">find_max</tt><big>(</big><em>data</em>, <em>neighborhood_size=15</em>, <em>threshold=10</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/findmax.html#find_max"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.findmax.find_max" title="Permalink to this definition">¶</a></dt>
<dd><p>This routine finds the local maxima from</p>
</dd></dl>

</div>
<div class="section" id="module-pyWADLib.pydicom_series">
<span id="pywadlib-pydicom-series-module"></span><h2>pyWADLib.pydicom_series module<a class="headerlink" href="#module-pyWADLib.pydicom_series" title="Permalink to this headline">¶</a></h2>
<p>By calling the function read_files with a directory name or list
of files as an argument, a list of DicomSeries instances can be
obtained. A DicomSeries object has some attributes that give
information about the serie (such as shape, sampling, suid) and
has an info attribute, which is a dicom.DataSet instance containing
information about the first dicom file in the serie. The data can
be obtained using the get_pixel_array() method, which produces a
3D numpy array if there a multiple files in the serie.</p>
<p>This module can deal with gated data, in which case a DicomSeries
instance is created for each 3D volume.</p>
<dl class="class">
<dt id="pyWADLib.pydicom_series.DicomSeries">
<em class="property">class </em><tt class="descclassname">pyWADLib.pydicom_series.</tt><tt class="descname">DicomSeries</tt><big>(</big><em>suid</em>, <em>showProgress</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/pydicom_series.html#DicomSeries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.pydicom_series.DicomSeries" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>DicomSeries
This class represents a serie of dicom files that belong together.
If these are multiple files, they represent the slices of a volume
(like for CT or MRI). The actual volume can be obtained using loadData().
Information about the data can be obtained using the info attribute.</p>
<dl class="attribute">
<dt id="pyWADLib.pydicom_series.DicomSeries.description">
<tt class="descname">description</tt><a class="reference internal" href="_modules/pyWADLib/pydicom_series.html#DicomSeries.description"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.pydicom_series.DicomSeries.description" title="Permalink to this definition">¶</a></dt>
<dd><p>A description of the dicom series. Used fields are
PatientName, shape of the data, SeriesDescription,
and ImageComments.</p>
</dd></dl>

<dl class="method">
<dt id="pyWADLib.pydicom_series.DicomSeries.get_pixel_array">
<tt class="descname">get_pixel_array</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyWADLib/pydicom_series.html#DicomSeries.get_pixel_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.pydicom_series.DicomSeries.get_pixel_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Get (load) the data that this DicomSeries represents, and return
it as a numpy array. If this serie contains multiple images, the
resulting array is 3D, otherwise it&#8217;s 2D.</p>
<p>If RescaleSlope and RescaleIntercept are present in the dicom info,
the data is rescaled using these parameters. The data type is chosen
depending on the range of the (rescaled) data.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyWADLib.pydicom_series.DicomSeries.info">
<tt class="descname">info</tt><a class="reference internal" href="_modules/pyWADLib/pydicom_series.html#DicomSeries.info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.pydicom_series.DicomSeries.info" title="Permalink to this definition">¶</a></dt>
<dd><p>A DataSet instance containing the information as present in the
first dicomfile of this serie.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyWADLib.pydicom_series.DicomSeries.sampling">
<tt class="descname">sampling</tt><a class="reference internal" href="_modules/pyWADLib/pydicom_series.html#DicomSeries.sampling"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.pydicom_series.DicomSeries.sampling" title="Permalink to this definition">¶</a></dt>
<dd><p>The sampling (voxel distances) of the data (dz, dy, dx).
If None, the serie contains a single dicom file.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyWADLib.pydicom_series.DicomSeries.shape">
<tt class="descname">shape</tt><a class="reference internal" href="_modules/pyWADLib/pydicom_series.html#DicomSeries.shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.pydicom_series.DicomSeries.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>The shape of the data (nz, ny, nx).
If None, the serie contains a single dicom file.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyWADLib.pydicom_series.DicomSeries.suid">
<tt class="descname">suid</tt><a class="reference internal" href="_modules/pyWADLib/pydicom_series.html#DicomSeries.suid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.pydicom_series.DicomSeries.suid" title="Permalink to this definition">¶</a></dt>
<dd><p>The Series Instance UID.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyWADLib.pydicom_series.ProgressBar">
<em class="property">class </em><tt class="descclassname">pyWADLib.pydicom_series.</tt><tt class="descname">ProgressBar</tt><big>(</big><em>char='-'</em>, <em>length=20</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/pydicom_series.html#ProgressBar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.pydicom_series.ProgressBar" title="Permalink to this definition">¶</a></dt>
<dd><p>To print progress to the screen.</p>
<dl class="method">
<dt id="pyWADLib.pydicom_series.ProgressBar.Finish">
<tt class="descname">Finish</tt><big>(</big><em>message=''</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/pydicom_series.html#ProgressBar.Finish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.pydicom_series.ProgressBar.Finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Finish the progress bar, setting it to 100% if it
was not already. Optionally print a message behind the bar.</p>
</dd></dl>

<dl class="method">
<dt id="pyWADLib.pydicom_series.ProgressBar.PrintMessage">
<tt class="descname">PrintMessage</tt><big>(</big><em>message</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/pydicom_series.html#ProgressBar.PrintMessage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.pydicom_series.ProgressBar.PrintMessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a message (for example a warning).
The message is printed behind the progress bar,
and a new bar is started.</p>
</dd></dl>

<dl class="method">
<dt id="pyWADLib.pydicom_series.ProgressBar.Start">
<tt class="descname">Start</tt><big>(</big><em>what=''</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/pydicom_series.html#ProgressBar.Start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.pydicom_series.ProgressBar.Start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the progress bar, displaying the given text first.
Make sure not to print anything untill after calling
Finish(). Messages can be printed while displaying
progess by using printMessage().</p>
</dd></dl>

<dl class="method">
<dt id="pyWADLib.pydicom_series.ProgressBar.Stop">
<tt class="descname">Stop</tt><big>(</big><em>message=''</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/pydicom_series.html#ProgressBar.Stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.pydicom_series.ProgressBar.Stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop the progress bar where it is now.
Optionally print a message behind it.</p>
</dd></dl>

<dl class="method">
<dt id="pyWADLib.pydicom_series.ProgressBar.Update">
<tt class="descname">Update</tt><big>(</big><em>newProgress</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/pydicom_series.html#ProgressBar.Update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.pydicom_series.ProgressBar.Update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update progress. Progress is given as a number
between 0 and 1.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyWADLib.pydicom_series.get_data">
<tt class="descclassname">pyWADLib.pydicom_series.</tt><tt class="descname">get_data</tt><big>(</big><em>dicomseries</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/pydicom_series.html#get_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.pydicom_series.get_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyWADLib.pydicom_series.read_files">
<tt class="descclassname">pyWADLib.pydicom_series.</tt><tt class="descname">read_files</tt><big>(</big><em>path</em>, <em>showProgress=False</em>, <em>readPixelData=False</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/pydicom_series.html#read_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.pydicom_series.read_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads dicom files and returns a list of DicomSeries objects, which
contain information about the data, and can be used to load the
image or volume data.</p>
<p>The parameter &#8220;path&#8221; can also be a list of files or directories.</p>
<p>If the callable &#8220;showProgress&#8221; is given, it is called with a single
argument to indicate the progress. The argument is a string when a
progress is started (indicating what is processed). A float indicates
progress updates. The paremeter is None when the progress is finished.
When &#8220;showProgress&#8221; is True, a default callback is used that writes
to stdout. By default, no progress is shown.</p>
<p>if readPixelData is True, the pixel data of all series is read. By
default the loading of pixeldata is deferred until it is requested
using the DicomSeries.get_pixel_array() method. In general, both
methods should be equally fast.</p>
</dd></dl>

<dl class="function">
<dt id="pyWADLib.pydicom_series.show_data">
<tt class="descclassname">pyWADLib.pydicom_series.</tt><tt class="descname">show_data</tt><big>(</big><em>array</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/pydicom_series.html#show_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.pydicom_series.show_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="pywadlib-roi-lib-module">
<h2>pyWADLib.roi_lib module<a class="headerlink" href="#pywadlib-roi-lib-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pyWADLib.wadwrapper_lib">
<span id="pywadlib-wadwrapper-lib-module"></span><h2>pyWADLib.wadwrapper_lib module<a class="headerlink" href="#module-pyWADLib.wadwrapper_lib" title="Permalink to this headline">¶</a></h2>
<p>This provides a number of DICOM handling and math routines
which are often used in plugins developed at UMCU.
This includes:</p>
<blockquote>
<div><ul class="simple">
<li>reading a 2D image</li>
<li>reading of a folder of 2D slices as a 3D image (excluding non-image files)</li>
<li>reading an Enhanced DICOM object as a 3D image</li>
<li>scaling data values accoriding to slope and offset tags</li>
<li>accessing (nested) DICOM tags in 2D, 3D, and Enhanced DICOM</li>
</ul>
</div></blockquote>
<dl class="class">
<dt id="pyWADLib.wadwrapper_lib.connectedComponents">
<em class="property">class </em><tt class="descclassname">pyWADLib.wadwrapper_lib.</tt><tt class="descname">connectedComponents</tt><a class="reference internal" href="_modules/pyWADLib/wadwrapper_lib.html#connectedComponents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.wadwrapper_lib.connectedComponents" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="pyWADLib.wadwrapper_lib.connectedComponents.cca">
<tt class="descname">cca</tt><em class="property"> = None</em><a class="headerlink" href="#pyWADLib.wadwrapper_lib.connectedComponents.cca" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyWADLib.wadwrapper_lib.connectedComponents.clusterSizes">
<tt class="descname">clusterSizes</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyWADLib/wadwrapper_lib.html#connectedComponents.clusterSizes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.wadwrapper_lib.connectedComponents.clusterSizes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyWADLib.wadwrapper_lib.connectedComponents.cluster_sizes">
<tt class="descname">cluster_sizes</tt><em class="property"> = []</em><a class="headerlink" href="#pyWADLib.wadwrapper_lib.connectedComponents.cluster_sizes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyWADLib.wadwrapper_lib.connectedComponents.indicesOfCluster">
<tt class="descname">indicesOfCluster</tt><big>(</big><em>val</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/wadwrapper_lib.html#connectedComponents.indicesOfCluster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.wadwrapper_lib.connectedComponents.indicesOfCluster" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyWADLib.wadwrapper_lib.connectedComponents.maskIn">
<tt class="descname">maskIn</tt><em class="property"> = None</em><a class="headerlink" href="#pyWADLib.wadwrapper_lib.connectedComponents.maskIn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyWADLib.wadwrapper_lib.connectedComponents.nb_labels">
<tt class="descname">nb_labels</tt><em class="property"> = None</em><a class="headerlink" href="#pyWADLib.wadwrapper_lib.connectedComponents.nb_labels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyWADLib.wadwrapper_lib.connectedComponents.removeSmallClusters">
<tt class="descname">removeSmallClusters</tt><big>(</big><em>minsize</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/wadwrapper_lib.html#connectedComponents.removeSmallClusters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.wadwrapper_lib.connectedComponents.removeSmallClusters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyWADLib.wadwrapper_lib.connectedComponents.run">
<tt class="descname">run</tt><big>(</big><em>pBool</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/wadwrapper_lib.html#connectedComponents.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.wadwrapper_lib.connectedComponents.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyWADLib.wadwrapper_lib.extract">
<tt class="descclassname">pyWADLib.wadwrapper_lib.</tt><tt class="descname">extract</tt><big>(</big><em>Z</em>, <em>shape</em>, <em>position</em>, <em>fill=nan</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/wadwrapper_lib.html#extract"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.wadwrapper_lib.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a sub-array from Z using given shape and centered on position.
If some part of the sub-array is out of Z bounds, result is padded</p>
<blockquote>
<div><p>with fill value.</p>
<dl class="docutils">
<dt><strong>Parameters</strong></dt>
<dd><blockquote class="first">
<div><dl class="docutils">
<dt><cite>Z</cite> <span class="classifier-delimiter">:</span> <span class="classifier">array_like</span></dt>
<dd>Input array.</dd>
</dl>
</div></blockquote>
<dl class="last docutils">
<dt><cite>shape</cite> <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Shape of the output array</dd>
<dt><cite>position</cite> <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Position within Z</dd>
<dt><cite>fill</cite> <span class="classifier-delimiter">:</span> <span class="classifier">scalar</span></dt>
<dd>Fill value</dd>
</dl>
</dd>
<dt><strong>Returns</strong></dt>
<dd><dl class="first last docutils">
<dt><cite>out</cite> <span class="classifier-delimiter">:</span> <span class="classifier">array_like</span></dt>
<dd>Z slice with given shape and center</dd>
</dl>
</dd>
</dl>
<p><strong>Examples</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Z</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">16</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">extract</span><span class="p">(</span><span class="n">Z</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
<span class="go">[[ NaN  NaN  NaN]</span>
<span class="go"> [ NaN   0.   1.]</span>
<span class="go"> [ NaN   4.   5.]]</span>
</pre></div>
</div>
<p>Schema:</p>
<div class="highlight-python"><div class="highlight"><pre>+-----------+
| 0   0   0 |  =  extract (Z, shape=(3,3), position=(0,0))
|   +-------|---------+  
| 0 | 0   1 | 2   3   |  =  Z
|   |       |         |
| 0 | 4   5 | 6   7   |
+-----------+         |
    | 8    9   10  11 |
    |                 |
    | 12   13  14  15 |
    +-----------------+
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Z</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">16</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">extract</span><span class="p">(</span><span class="n">Z</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="go">[[ 10.  11.  NaN]</span>
<span class="go"> [ 14.  15.  NaN]</span>
<span class="go"> [ NaN  NaN  NaN]]</span>
</pre></div>
</div>
<p>Schema:</p>
<div class="highlight-python"><div class="highlight"><pre>+---------------+
| 0   1   2   3 | = Z
|               |
| 4   5   6   7 |
|       +-----------+
| 8   9 |10  11 | 0 | = extract (Z, shape=(3,3),position=(3,3))
|       |       |   |
| 12 13 |14  15 | 0 |
+---------------+   |
        | 0   0   0 |
        +-----------+
</pre></div>
</div>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="pyWADLib.wadwrapper_lib.getDICOMMode">
<tt class="descclassname">pyWADLib.wadwrapper_lib.</tt><tt class="descname">getDICOMMode</tt><big>(</big><em>dcmInfile</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/wadwrapper_lib.html#getDICOMMode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.wadwrapper_lib.getDICOMMode" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the structure of the DICOM image: 2D, 3D, Enhanced, BTO</p>
</dd></dl>

<dl class="function">
<dt id="pyWADLib.wadwrapper_lib.peakdet">
<tt class="descclassname">pyWADLib.wadwrapper_lib.</tt><tt class="descname">peakdet</tt><big>(</big><em>v</em>, <em>delta</em>, <em>x=None</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/wadwrapper_lib.html#peakdet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.wadwrapper_lib.peakdet" title="Permalink to this definition">¶</a></dt>
<dd><p>Converted from MATLAB script at <a class="reference external" href="http://billauer.co.il/peakdet.html">http://billauer.co.il/peakdet.html</a></p>
<p>Returns two arrays</p>
<p>function [maxtab, mintab]=peakdet(v, delta, x)
%PEAKDET Detect peaks in a vector
%        [MAXTAB, MINTAB] = PEAKDET(V, DELTA) finds the local
%        maxima and minima (&#8220;peaks&#8221;) in the vector V.
%        MAXTAB and MINTAB consists of two columns. Column 1
%        contains indices in V, and column 2 the found values.
%      
%        With [MAXTAB, MINTAB] = PEAKDET(V, DELTA, X) the indices
%        in MAXTAB and MINTAB are replaced with the corresponding
%        X-values.
%
%        A point is considered a maximum peak if it has the maximal
%        value, and was preceded (to the left) by a value lower by
%        DELTA.</p>
<p>% Eli Billauer, 3.4.05 (Explicitly not copyrighted).
% This function is released to the public domain; Any use is allowed.</p>
</dd></dl>

<dl class="function">
<dt id="pyWADLib.wadwrapper_lib.prepareEnhancedInput">
<tt class="descclassname">pyWADLib.wadwrapper_lib.</tt><tt class="descname">prepareEnhancedInput</tt><big>(</big><em>filename</em>, <em>headers_only</em>, <em>logTag='[prepareEnhancedInput] '</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/wadwrapper_lib.html#prepareEnhancedInput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.wadwrapper_lib.prepareEnhancedInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads filename as an EnhancedDICOM object. If not headers_only , scaling the pixel values according to RescaleIntercept and RescaleIntercept of each frame
and transposing for pyqtgraph format.
Raises ValueError if file cannot be opened as a DICOM object
Returns raw dcmfile, scaled and transposed pixeldata (or None), type of DICOM object.</p>
</dd></dl>

<dl class="function">
<dt id="pyWADLib.wadwrapper_lib.prepareInput">
<tt class="descclassname">pyWADLib.wadwrapper_lib.</tt><tt class="descname">prepareInput</tt><big>(</big><em>instancedict</em>, <em>headers_only</em>, <em>logTag='[prepareInput] '</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/wadwrapper_lib.html#prepareInput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.wadwrapper_lib.prepareInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads inputfile as an EnhancedDICOM object; if an EnhancedDICOM object is detected, prepareEnhancedInput is called.
Checks if the input is as expected: number of slices etc.
If not headers_only, scaling the pixel values according to RescaleIntercept and RescaleIntercept of each frame
and transposing for pyqtgraph format.
Raises ValueError if file cannot be opened as a DICOM object
Returns raw dcmfile, scaled and transposed pixeldata (or None), type of DICOM object.</p>
</dd></dl>

<dl class="function">
<dt id="pyWADLib.wadwrapper_lib.readDICOMtag">
<tt class="descclassname">pyWADLib.wadwrapper_lib.</tt><tt class="descname">readDICOMtag</tt><big>(</big><em>key</em>, <em>dcmInfile</em>, <em>imslice=0</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/wadwrapper_lib.html#readDICOMtag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.wadwrapper_lib.readDICOMtag" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of the dicomtag &#8216;key&#8217; for image slice &#8216;imslice&#8217;
imslice is ignored for 2D images.
A key is defined as e.g. &#8220;0018,11A0&#8221;, but could also be a nested tag &#8220;0018,11A0,0008,1001&#8221;
Returns empty string if tag is not defined in the dicomfile.</p>
</dd></dl>

<dl class="function">
<dt id="pyWADLib.wadwrapper_lib.readNestedDICOMtag">
<tt class="descclassname">pyWADLib.wadwrapper_lib.</tt><tt class="descname">readNestedDICOMtag</tt><big>(</big><em>key</em>, <em>dcmInfile</em>, <em>imslice</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/wadwrapper_lib.html#readNestedDICOMtag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.wadwrapper_lib.readNestedDICOMtag" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of the nested dicomtag &#8216;key&#8217; for image slice &#8216;imslice&#8217;
imslice is ignored for 2D images.
A nested tag is defined as e.g &#8220;0018,11A0,0008,1001&#8221; meaning tag &#8220;0008,1001&#8221; in subset tag &#8220;0018,11A0&#8221;
Returns empty string if tag is not defined in the dicomfile.</p>
</dd></dl>

<dl class="function">
<dt id="pyWADLib.wadwrapper_lib.removeBogusDICOMfiles">
<tt class="descclassname">pyWADLib.wadwrapper_lib.</tt><tt class="descname">removeBogusDICOMfiles</tt><big>(</big><em>instancedict</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/wadwrapper_lib.html#removeBogusDICOMfiles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.wadwrapper_lib.removeBogusDICOMfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>When a folder of files is offered, prepare a list of files that are valid DICOM image files;
this removes some report files that would break reading a folder of slices as a 3D image</p>
</dd></dl>

<dl class="function">
<dt id="pyWADLib.wadwrapper_lib.testIfEnhancedDICOM">
<tt class="descclassname">pyWADLib.wadwrapper_lib.</tt><tt class="descname">testIfEnhancedDICOM</tt><big>(</big><em>filename</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/wadwrapper_lib.html#testIfEnhancedDICOM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.wadwrapper_lib.testIfEnhancedDICOM" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if DICOM file to be read is an EnhancedDICOM object (but not BTO)</p>
</dd></dl>

<dl class="function">
<dt id="pyWADLib.wadwrapper_lib.threshold_adaptive">
<tt class="descclassname">pyWADLib.wadwrapper_lib.</tt><tt class="descname">threshold_adaptive</tt><big>(</big><em>image</em>, <em>block_size</em>, <em>method='gaussian'</em>, <em>offset=0</em>, <em>mode='reflect'</em>, <em>param=None</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/wadwrapper_lib.html#threshold_adaptive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.wadwrapper_lib.threshold_adaptive" title="Permalink to this definition">¶</a></dt>
<dd><p>from skitimage 0.8
Applies an adaptive threshold to an array.</p>
<p>Also known as local or dynamic thresholding where the threshold value is
the weighted mean for the local neighborhood of a pixel subtracted by a
constant. Alternatively the threshold can be determined dynamically by a a
given function using the &#8216;generic&#8217; method.</p>
<dl class="docutils">
<dt>image <span class="classifier-delimiter">:</span> <span class="classifier">(N, M) ndarray</span></dt>
<dd>Input image.</dd>
<dt>block_size <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>Uneven size of pixel neighborhood which is used to calculate the
threshold value (e.g. 3, 5, 7, ..., 21, ...).</dd>
<dt>method <span class="classifier-delimiter">:</span> <span class="classifier">{&#8216;generic&#8217;, &#8216;gaussian&#8217;, &#8216;mean&#8217;, &#8216;median&#8217;}, optional</span></dt>
<dd><p class="first">Method used to determine adaptive threshold for local neighbourhood in
weighted mean image.</p>
<ul class="simple">
<li>&#8216;generic&#8217;: use custom function (see <cite>param</cite> parameter)</li>
<li>&#8216;gaussian&#8217;: apply gaussian filter (see <cite>param</cite> parameter for custom                      sigma value)</li>
<li>&#8216;mean&#8217;: apply arithmetic mean filter</li>
<li>&#8216;median&#8217;: apply median rank filter</li>
</ul>
<p class="last">By default the &#8216;gaussian&#8217; method is used.</p>
</dd>
<dt>offset <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd>Constant subtracted from weighted mean of neighborhood to calculate
the local threshold value. Default offset is 0.</dd>
<dt>mode <span class="classifier-delimiter">:</span> <span class="classifier">{&#8216;reflect&#8217;, &#8216;constant&#8217;, &#8216;nearest&#8217;, &#8216;mirror&#8217;, &#8216;wrap&#8217;}, optional</span></dt>
<dd>The mode parameter determines how the array borders are handled, where
cval is the value when mode is equal to &#8216;constant&#8217;.
Default is &#8216;reflect&#8217;.</dd>
<dt>param <span class="classifier-delimiter">:</span> <span class="classifier">{int, function}, optional</span></dt>
<dd>Either specify sigma for &#8216;gaussian&#8217; method or function object for
&#8216;generic&#8217; method. This functions takes the flat array of local
neighbourhood as a single argument and returns the calculated
threshold for the centre pixel.</dd>
</dl>
<dl class="docutils">
<dt>threshold <span class="classifier-delimiter">:</span> <span class="classifier">(N, M) ndarray</span></dt>
<dd>Thresholded binary image</dd>
</dl>
<table class="docutils footnote" frame="void" id="id1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><a class="reference external" href="http://docs.opencv.org/modules/imgproc/doc/miscellaneous_transformations.html?highlight=threshold#adaptivethreshold">http://docs.opencv.org/modules/imgproc/doc/miscellaneous_transformations.html?highlight=threshold#adaptivethreshold</a></td></tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skimage.data</span> <span class="kn">import</span> <span class="n">camera</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image</span> <span class="o">=</span> <span class="n">camera</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">binary_image1</span> <span class="o">=</span> <span class="n">threshold_adaptive</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="s">&#39;mean&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">arr</span><span class="p">:</span> <span class="n">arr</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">binary_image2</span> <span class="o">=</span> <span class="n">threshold_adaptive</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="s">&#39;generic&#39;</span><span class="p">,</span> <span class="n">param</span><span class="o">=</span><span class="n">func</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pyWADLib.wadwrapper_lib.threshold_isodata2">
<tt class="descclassname">pyWADLib.wadwrapper_lib.</tt><tt class="descname">threshold_isodata2</tt><big>(</big><em>data</em><big>)</big><a class="reference internal" href="_modules/pyWADLib/wadwrapper_lib.html#threshold_isodata2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyWADLib.wadwrapper_lib.threshold_isodata2" title="Permalink to this definition">¶</a></dt>
<dd><p>Ripped from ImageJ &#8220;defaultIsoData&#8221;</p>
</dd></dl>

</div>
<div class="section" id="module-pyWADLib">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pyWADLib" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">pyWADLib package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-pyWADLib.dumppdf">pyWADLib.dumppdf module</a></li>
<li><a class="reference internal" href="#module-pyWADLib.findmax">pyWADLib.findmax module</a></li>
<li><a class="reference internal" href="#module-pyWADLib.pydicom_series">pyWADLib.pydicom_series module</a></li>
<li><a class="reference internal" href="#pywadlib-roi-lib-module">pyWADLib.roi_lib module</a></li>
<li><a class="reference internal" href="#module-pyWADLib.wadwrapper_lib">pyWADLib.wadwrapper_lib module</a></li>
<li><a class="reference internal" href="#module-pyWADLib">Module contents</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/pyWADLib.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">..  documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, Author.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
    </div>
  </body>
</html>